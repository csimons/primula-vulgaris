package RBNLearning;

import java.util.*;
import java.io.*;
import RBNpackage.*;
import RBNgui.*;
import RBNio.*;
import RBNExceptions.*;
import RBNutilities.*;

public class SampleMain{

 
    private static  String model = "distributed";
    private static  String struc = "distributed_l";
//     private static  String output = "randgraph_col_5000";
//      private static  String output = "randgraph_dir_100_3";
     private static  String output = "randpedig_500_0.3";

    private static void loadInputs(Primula pr){
	String rbninputfilestring = "/home/jaeger/B/Primula-Develop/New/Primula-beta/Examples/RBNinputs/"+model+".rbn";
	File rbnfile = new File(rbninputfilestring);
	pr.loadRBNFunction(rbnfile);
	if (!struc.equals("")){
	    String rstinputfilestring = "/home/jaeger/B/Primula-Develop/New/Primula-beta/Examples/RSTinputs/"+struc+".rst";
	    File srsfile = new File(rstinputfilestring);
	    pr.loadSparseRelFile(srsfile);
	}
    }


    public static  void main(String[] Args){
	Primula thisprimula;
	Sampler thissampler;
	thisprimula = new Primula();
 	thissampler = new Sampler(thisprimula);
	
	String rstoutfile="/home/jaeger/B/Primula-Develop/New/Primula-beta/Examples/RSTinputs/" + output + ".rst";
	String blpoutfile="/home/jaeger/balios/LogicStrucs/" + output + ".blp";

 	// loadInputs(thisprimula);

	//	thisprimula.setRelStruc(new SparseRelStruc(1000));

//  	SparseRelStruc sampledstruc = thissampler.sampleOneStruc();

	//SparseRelStruc sampledstruc = thissampler.makeRandomColoredGraph(5000,10.0/5000.0,0.33,0.33);
	//SparseRelStruc sampledstruc = thissampler.makeRandomGraph(100,3.0/100.0,true);
	SparseRelStruc sampledstruc = thissampler.makeRandomPedigree(500, 0.3);
	//File outfile = new File(rstoutfile);
	SparseRelStrucReader.saveFile(sampledstruc,new File(rstoutfile),null);
	sampledstruc.saveToBLPFile(blpoutfile);

// 	animateSampling(thisprimula,thissampler);


	thisprimula.exitProgram();
   
    }




    private static void animateSampling(Primula thisprimula,Sampler thissampler){
	SparseRelStruc sampledstruc;
	Primula displayprimula = new Primula();
	Bavaria mybavaria = displayprimula.openBavaria();
	while (true){
	    sampledstruc = thissampler.sampleOneStruc();
	    System.out.println(((int[])sampledstruc.getCoords().elementAt(0))[0]+ " " + ((int[])sampledstruc.getCoords().elementAt(0))[1]);
	    //thisprimula.setRelStruc(sampledstruc);
	    mybavaria.setRelStruc(sampledstruc);
	}
	
	
    }
}
